"use strict";(self["webpackChunknticpd"]=self["webpackChunknticpd"]||[]).push([[254],{7971:function(e,i,a){a.d(i,{Z:function(){return m}});var o=a(3396);const t=e=>((0,o.dD)("data-v-28695f58"),e=e(),(0,o.Cn)(),e),s={class:"lds-ring"},d=t((()=>(0,o._)("div",null,null,-1))),n=t((()=>(0,o._)("div",null,null,-1))),r=t((()=>(0,o._)("div",null,null,-1))),l=t((()=>(0,o._)("div",null,null,-1))),c=[d,n,r,l];function v(e,i,a,t,d,n){return(0,o.wg)(),(0,o.iD)("div",s,c)}var p={name:"loadingComponents"},u=a(89);const h=(0,u.Z)(p,[["render",v],["__scopeId","data-v-28695f58"]]);var m=h},6814:function(e,i,a){a.d(i,{Z:function(){return v}});var o=a(3396),t=a(7139);const s=e=>((0,o.dD)("data-v-66a17eed"),e=e(),(0,o.Cn)(),e),d=s((()=>(0,o._)("br",null,null,-1)));function n(e,i,a,s,n,r){return e.exbir?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,t.C_)(`${a.possicao}`)},[(0,o._)("div",{class:(0,t.C_)(`alert ${a.tipo}`),role:"alert"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.msg,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e},[(0,o.Uk)((0,t.zw)(e),1),d])))),128)),(0,o._)("div",null,[(0,o._)("div",{class:"tempo",style:(0,t.j5)(`width: ${e.tempo}%;  background-color: ${e.cor};`)},null,4)])],2)],2)):(0,o.kq)("",!0)}var r={name:"mensagenVue",data:()=>({tempo:100,exbir:!1,cor:"red"}),props:["msg","tipo","possicao"],methods:{count(){let e=setInterval((()=>{this.tempo=this.tempo-20,0===this.tempo&&(this.exbir=!1,clearInterval(e),this.tempo=80),console.log(this.tempo)}),1e3)}},watch:{msg(){this.exbir=!0,"alert-danger"===this.tipo?this.cor="red":"alert-success"===this.tipo&&(this.cor="green"),this.count()}}},l=a(89);const c=(0,l.Z)(r,[["render",n],["__scopeId","data-v-66a17eed"]]);var v=c},2254:function(e,i,a){a.r(i),a.d(i,{default:function(){return q}});var o=a(3396),t=a(7139),s=a(9242),d=a(8627);const n=e=>((0,o.dD)("data-v-1cebcbc9"),e=e(),(0,o.Cn)(),e),r={class:"folha"},l=n((()=>(0,o._)("h1",{class:"text-center-servico"}," Cadastro de serviços ",-1))),c={class:"grid-form"},v={class:"form-contact-servico"},p={class:"form-group-servico"},u=n((()=>(0,o._)("label",{class:"label-form",for:"telefone"},"Telefone",-1))),h={class:"form-group-servico"},m=n((()=>(0,o._)("label",{class:"label-form",for:"unidade"},"Unidade",-1))),f={class:"form-group-servico"},g=n((()=>(0,o._)("label",{class:"label-form",for:"responsavel"},"Responsável",-1))),S={class:"form-group-servico"},_=n((()=>(0,o._)("label",{class:"label-form",for:"tipo"},"Tipo de serviço",-1))),b=n((()=>(0,o._)("option",{value:""},null,-1))),D=n((()=>(0,o._)("option",{value:"Ponto De Rede"},"Ponto de Rede",-1))),U=n((()=>(0,o._)("option",{value:"Reparos\\Configuração"},"Reparos/ Configuração",-1))),w=n((()=>(0,o._)("option",{value:"VisitaTecnica\\Reparos\\Configuração"},"Visita Técnica/ Reparos/ Configuração ",-1))),y=[b,D,U,w],C={class:"form-group-servico"},k=n((()=>(0,o._)("label",{class:"label-form",for:"dataDeServico"},"data de serviços",-1))),$=n((()=>(0,o._)("div",{class:"form-espaco"},null,-1))),V={class:"form-group-servico"},x=n((()=>(0,o._)("label",{class:"label-form",for:"observacao"},"Observação",-1))),Z={key:0,class:"button-img",src:d};function R(e,i,a,d,n,b){const D=(0,o.up)("loadingVue"),U=(0,o.up)("mensagens"),w=(0,o.Q2)("maska");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",r,[l,(0,o._)("div",c,[(0,o._)("fieldset",v,[(0,o._)("div",p,[u,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form ${e.invalida[0]}`),id:"telefone",name:"telefone",type:"tel",placeholder:"(77) 3333-3333","data-maska":"(##) #####-####","onUpdate:modelValue":i[0]||(i[0]=i=>e.telefone=i)},null,2),[[w],[s.nr,e.telefone]])]),(0,o._)("div",h,[m,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form ${e.invalida[1]}`),id:"unidade",name:"unidade",type:"text",placeholder:"nome da unidade","onUpdate:modelValue":i[1]||(i[1]=i=>e.unidade=i)},null,2),[[s.nr,e.unidade]])]),(0,o._)("div",f,[g,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form ${e.invalida[2]}`),id:"responsavel",name:"responsavel",type:"text",placeholder:"nome do Responsável","onUpdate:modelValue":i[2]||(i[2]=i=>e.responsavel=i)},null,2),[[s.nr,e.responsavel]])]),(0,o._)("div",S,[_,(0,o.wy)((0,o._)("select",{class:(0,t.C_)(`input-form ${e.invalida[3]}`),name:"tipo",id:"tipo","onUpdate:modelValue":i[3]||(i[3]=i=>e.tipoDeServico=i)},y,2),[[s.bM,e.tipoDeServico]])]),(0,o._)("div",C,[k,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form ${e.invalida[4]}`),id:"dataDeServico",name:"dataDeServico",type:"date","onUpdate:modelValue":i[4]||(i[4]=i=>e.dataDeServico=i)},null,2),[[s.nr,e.dataDeServico]])]),$,(0,o._)("div",V,[x,(0,o.wy)((0,o._)("textarea",{class:"input-form",id:"observacao",name:"observacao",cols:"30",rows:"10","onUpdate:modelValue":i[5]||(i[5]=i=>e.observacao=i)}," ",512),[[s.nr,e.observacao]])]),(0,o._)("button",{class:"button",type:"submit",onClick:i[6]||(i[6]=e=>b.cadastro())},[e.cadastroLoading?((0,o.wg)(),(0,o.iD)("img",Z)):(0,o.kq)("",!0),e.loading?((0,o.wg)(),(0,o.j4)(D,{key:1})):(0,o.kq)("",!0)])])])]),(0,o.Wm)(U,{msg:e.msg,tipo:e.tipo,possicao:e.possicao},null,8,["msg","tipo","possicao"])],64)}var E=a(65),z=a(6146),Y=a(7971),I=a(6814),L={name:"ServicoUnidadeView",data:()=>({invalida:["","","","",""],cadastroLoading:!0,loading:!1,telefone:"",unidade:"",responsavel:"",tipoDeServico:"",dataDeServico:"",observacao:"",msg:"",tipo:"",idEdit:"",idEditServico:"",possicao:"leftMensagen"}),components:{loadingVue:Y.Z,mensagens:I.Z},computed:{...(0,E.rn)({telefoneState:e=>e.servicoUnidade.telefone?e.servicoUnidade.telefone:e.editServicoUnidade.telefone,unidadeState:e=>e.servicoUnidade.unidade?e.servicoUnidade.unidade:e.editServicoUnidade.unidade,responsavelState:e=>e.servicoUnidade.responsavel?e.servicoUnidade.responsavel:e.editServicoUnidade.responsavel,tipoDeServicoState:e=>e.editServicoUnidade.tipo?e.editServicoUnidade.tipo:"",dataDeServicoState:e=>e.editServicoUnidade.dataDeServico?e.editServicoUnidade.dataDeServico:"",observacaoState:e=>e.editServicoUnidade.observacao?e.editServicoUnidade.observacao:"",idServicoState:e=>e.editServicoUnidade._id,idState:e=>e.servicoUnidade._id})},created(){this.telefone=this.telefoneState,this.unidade=this.unidadeState,this.responsavel=this.responsavelState,this.tipoDeServico=this.tipoDeServicoState,this.dataDeServico=this.dataDeServicoState,this.observacao=this.observacaoState,this.idEdit=this.idState,this.idEditServico=this.idServicoState},methods:{validacao(){let e=[];return 0===this.telefone.length?(this.invalida[0]="invalido",e.push("telefone vazio")):this.invalida[0]="",0===this.unidade.length?(this.invalida[1]="invalido",e.push("unidade vazio")):this.invalida[1]="",0===this.responsavel.length?(this.invalida[2]="invalido",e.push("responsavel vazio")):this.invalida[2]="",0===this.tipoDeServico.length?(this.invalida[3]="invalido",e.push("tipo de serviço vazio")):this.invalida[3]="",0===this.dataDeServico.length?(this.invalida[4]="invalido",e.push("data de serviço vazio")):this.invalida[4]="",e},async cadastro(){try{const e=this.validacao();e.length>0&&(this.msg=e,this.tipo="alert-danger");let i={telefone:this.telefone,unidade:this.unidade,responsavel:this.responsavel,tipo:this.tipoDeServico,dataDeServico:this.$moment(this.dataDeServico).format("DD/MM/YYYY"),observacao:this.observacao};if(0===e.length)if(this.cadastroLoading=!1,this.loading=!0,"undefined"!==typeof this.idEditServico){const e=await z.Z.put(`/registro/edit/servicoUnidade/${this.idEditServico}`,i);e.data._id?(this.$store.commit("setEditServicoUnid",{}),this.$router.push({name:"listagemdeunidade",params:{id:e.data._id}})):(this.loading=!1,this.cadastroLoading=!0,this.msg=e.data,this.tipo="alert-danger")}else{const e=await z.Z.post("/registro/servicoUnidade",i);e.data._id?(this.$store.commit("setServicoUnidade",{}),this.$router.push({name:"listagemdeunidade",params:{id:e.data._id}})):(this.loading=!1,this.cadastroLoading=!0,this.msg=e.data,this.tipo="alert-danger")}}catch(e){console.log(e)}}}},M=a(89);const T=(0,M.Z)(L,[["render",R],["__scopeId","data-v-1cebcbc9"]]);var q=T},8627:function(e,i,a){e.exports=a.p+"img/salvar.c9cd868a.svg"}}]);
//# sourceMappingURL=254.aeebef3b.js.map