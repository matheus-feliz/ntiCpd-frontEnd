"use strict";(self["webpackChunknticpd"]=self["webpackChunknticpd"]||[]).push([[265],{9190:function(i,a,s){s.r(a),s.d(a,{default:function(){return y}});var e=s(3396),n=s(7139),t=s(9242),l=s(2982);const h=i=>((0,e.dD)("data-v-49032a1a"),i=i(),(0,e.Cn)(),i),o={class:"sencao"},d=h((()=>(0,e._)("div",null,[(0,e._)("img",{class:"img-login",title:"logo do nti",src:l})],-1))),u={class:"login-esqueceu"},c={key:0},r=h((()=>(0,e._)("div",{class:"traco-login"},null,-1))),g={key:0};function p(i,a,s,l,h,p){const m=(0,e.up)("mensagens"),v=(0,e.up)("loadingVue");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(m,{msg:i.msg,tipo:i.tipo,possicao:i.possicao},null,8,["msg","tipo","possicao"]),(0,e._)("section",o,[d,(0,e._)("div",u,[(0,e._)("input",{type:"email",class:(0,n.C_)(`form-control margin ${i.invalida[0]}`),placeholder:"Email",id:"email",name:"email"},null,2),i.exibir?((0,e.wg)(),(0,e.iD)("div",c,[(0,e.wy)((0,e._)("input",{type:"password",class:(0,n.C_)(`form-control ${i.invalida[1]}`),id:"password",placeholder:"senha",name:"password","onUpdate:modelValue":a[0]||(a[0]=a=>i.senha=a)},null,2),[[t.nr,i.senha]]),(0,e.wy)((0,e._)("input",{type:"password",class:(0,n.C_)(`form-control ${i.invalida[2]}`),id:"password2",placeholder:"confirma senha",name:"password2","onUpdate:modelValue":a[1]||(a[1]=a=>i.senha2=a)},null,2),[[t.nr,i.senha2]])])):(0,e.kq)("",!0),r,(0,e._)("button",{class:"buttonLogin-1",onClick:a[2]||(a[2]=i=>p.mudarSenha())},[i.esqueceuLoading?((0,e.wg)(),(0,e.iD)("span",g,"mudar Senha")):(0,e.kq)("",!0),i.loading?((0,e.wg)(),(0,e.j4)(v,{key:1})):(0,e.kq)("",!0)])])])],64)}var m=s(6146),v=s(7971),w=s(7499),_=s.n(w),f=s(6814),q={name:"EsqueceuSenhaView",data:()=>({id:"",senha:"",senha2:"",email:"",exibir:!1,loading:!1,esqueceuLoading:!0,invalida:["","",""],msg:"",tipo:"",possicao:"cimaMensagen"}),components:{loadingVue:v.Z,mensagens:f.Z},methods:{valida(){let i=[];return 0===this.email.length&&(i.push("email está vazio"),this.invalida[0]="invalido"),this.email.length>0&&(_().isEmail(this.email)?this.invalida[0]="":(i.push("email invalido"),this.invalida[0]="invalido")),this.exibir&&(0===this.senha.length&&(i.push("senha vazia"),this.invalida[1]="invalido"),this.senha.length>0&&(this.invalida[1]=""),0===this.senha2.length&&(i.push("senha vazia"),this.invalida[2]="invalido"),this.senha2.length>0&&(this.invalida[2]=""),this.senha.length>0&&this.senha2.length>0&&this.senha!==this.senha2&&(i.push("senha não são iquais"),this.invalida[1]="invalido",this.invalida[2]="invalido")),i},async mudarSenha(){let i=this.valida();if(i.length>0&&(this.msg=i,this.tipo="alert-danger"),0===i.length){if(this.esqueceuLoading=!1,this.loading=!0,""===this.id){const i=await m.Z.post("/esqueceusenha",this.email);this.senha=i.data.user,this.id=i.data.user._id,this.id?(this.esqueceuLoading=!0,this.loading=!1,this.exibir=!0):(this.esqueceuLoading=!0,this.loading=!1,this.exibir=!1)}if(this.id){const i={password:this.senha,password2:this.senha2},a=await m.Z.put(`/registersenha/edit/${this.id}`,i);a.data._id?(this.msg="senha alterada com sucesso",this.tipo="alert-success"):(this.loading=!1,this.esqueceuLoading=!0,this.msg=a.data,this.tipo="alert-danger")}}}}},k=s(89);const b=(0,k.Z)(q,[["render",p],["__scopeId","data-v-49032a1a"]]);var y=b}}]);
//# sourceMappingURL=265.cc74b8b6.js.map