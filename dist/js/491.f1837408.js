"use strict";(self["webpackChunknticpd"]=self["webpackChunknticpd"]||[]).push([[491],{5200:function(a,i){i["Z"]={methods:{pagev(){let a=0;for(a;a<this.limit;a++)this.page.push(this.pages[a])},proxima(){if(0===this.armazenaIndexProximo&&(this.armazenaIndexProximo=this.page.length),this.armazenaIndexProximo<=this.pages.length){this.limpaPage();for(let a=0;a<this.limit;a++)this.page.push(this.pages[this.armazenaIndexProximo]),this.armazenaIndexProximo++}},anterior(){if(this.armazenaIndexAnterior=this.armazenaIndexProximo,this.armazenaIndexAnterior>0){this.limpaPage();let a=this.limit+this.limit;this.armazenaIndexAnterior=this.armazenaIndexAnterior-a;for(let i=0;i<this.limit;i++)this.page.push(this.pages[this.armazenaIndexAnterior]),this.armazenaIndexAnterior++;this.armazenaIndexProximo=this.armazenaIndexAnterior}},limpaPage(){this.page=[]},disponivel(){0===this.armazenaIndexAnterior?(console.log("est치 desabilitado"),this.anteriorDisponivel=!1):(console.log("est치 habilitado"),this.anteriorDisponivel=!0)}}}},9931:function(a,i,e){e.d(i,{Z:function(){return h}});var t=e(3396);const n={class:"lds-facebook"},s=(0,t._)("div",null,null,-1),o=(0,t._)("div",null,null,-1),l=(0,t._)("div",null,null,-1),r=[s,o,l];function d(a,i,e,s,o,l){return(0,t.wg)(),(0,t.iD)("div",n,r)}var u={name:"loadingBusca"},c=e(89);const m=(0,c.Z)(u,[["render",d]]);var h=m},491:function(a,i,e){e.r(i),e.d(i,{default:function(){return G}});var t=e(3396),n=e(9242),s=e(7139),o=e(1295),l=e(8236),r=e(6836),d=e(4113),u=e(2766);const c=a=>((0,t.dD)("data-v-8ed1fa6e"),a=a(),(0,t.Cn)(),a),m=c((()=>(0,t._)("h1",{class:"text-center-nti"}," Busca de unidade ",-1))),h={class:"form-busca"},p=c((()=>(0,t._)("button",{class:"button-busca",type:"submit"},[(0,t._)("img",{class:"img-button",src:o})],-1))),g=c((()=>(0,t._)("div",{class:"traco-busca"},null,-1))),b={key:0,class:"ajust"},v={class:"resultado-flex"},_={key:1,class:"ajust"},x={class:"resultado"},f={class:"tabela"},z={class:"box"},w=["onClick"],k=c((()=>(0,t._)("img",{class:"button-img1",src:l},null,-1))),I=[k],C=["onClick"],D=c((()=>(0,t._)("img",{class:"button-img1",src:r},null,-1))),P=[D],y=["onClick"],A=c((()=>(0,t._)("img",{class:"button-img1",src:d},null,-1))),U=[A],Z=c((()=>(0,t._)("button",{class:"button-verde"},[(0,t._)("img",{class:"button-img1",src:u})],-1))),B={class:"box"},$=c((()=>(0,t._)("i",{class:"bi bi-arrow-left-short"},null,-1))),q=[$],L=c((()=>(0,t._)("i",{class:"bi bi-arrow-right-short"},null,-1))),V=[L],W={class:"box"},j=c((()=>(0,t._)("button",{class:"adicionar"},"+ Cadastro",-1)));function H(a,i,e,o,l,r){const d=(0,t.up)("loading-busca-vue"),u=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)(t.HY,null,[m,(0,t._)("div",null,[(0,t._)("div",h,[(0,t.wy)((0,t._)("input",{type:"text",name:"busca",id:"busca",placeholder:"busca de unidade","onUpdate:modelValue":i[0]||(i[0]=i=>a.busca=i)},null,512),[[n.nr,a.busca]]),p])]),g,a.loading?((0,t.wg)(),(0,t.iD)("div",b,[(0,t._)("div",v,[(0,t.Wm)(d)])])):(0,t.kq)("",!0),a.buscaLoading?((0,t.wg)(),(0,t.iD)("div",_,[(0,t._)("div",x,[(0,t._)("div",null,[(0,t._)("table",f,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.page,(a=>((0,t.wg)(),(0,t.iD)("tbody",{key:a._id},[(0,t._)("tr",null,[(0,t._)("td",null,[(0,t._)("p",null,(0,s.zw)(a.telefone),1)]),(0,t._)("td",null,[(0,t._)("p",null,(0,s.zw)(a.unidade),1)]),(0,t._)("td",null,[(0,t._)("p",null,(0,s.zw)(a.responsavel),1)]),(0,t._)("td",null,[(0,t._)("div",z,[(0,t._)("button",{class:"button-azul",onClick:i=>r.deleteBanco(a._id)},I,8,w),(0,t._)("button",{class:"button-verde",onClick:i=>r.editUnidade(a)},P,8,C),(0,t._)("button",{class:"button-azul",onClick:i=>r.Unidade(a)},U,8,y),(0,t.Wm)(u,{to:{name:"listagemdeunidade",params:{id:a._id}}},{default:(0,t.w5)((()=>[Z])),_:2},1032,["to"])])])])])))),128))])])]),(0,t._)("div",B,[(0,t._)("button",{onClick:i[1]||(i[1]=(...i)=>a.anterior&&a.anterior(...i)),class:"botao"},q),(0,t._)("button",{onClick:i[2]||(i[2]=(...i)=>a.proxima&&a.proxima(...i)),class:"botao"},V)]),(0,t._)("div",W,[(0,t.Wm)(u,{to:{name:"cadastrodeunidade"}},{default:(0,t.w5)((()=>[j])),_:1})])])):(0,t.kq)("",!0)],64)}var R=e(6146),S=e(5200),Y=e(9931),K={name:"BuscaDeUnidadeView",data:()=>({pages:[],page:[],limit:5,armazenaIndexProximo:0,armazenaIndexAnterior:0,anteriorDisponivel:!1,busca:"",buscaLoading:!1,loading:!0}),mixins:[S.Z],components:{loadingBuscaVue:Y.Z},methods:{async dataRetorno(){await R.Z.get("/buscaunidade").then((({data:a})=>{this.pages=a,this.pagev()}))},disponivel(){return 0==this.armazenaIndexAnterior?(console.log("est치 desabilitado"),this.anteriorDisponivel=!1):(console.log("est치 habilitado"),this.anteriorDisponivel=!0)},async deleteBanco(a){await R.Z["delete"](`/cadastrounidade/delete/${a}`),location.reload()},editUnidade(a){this.$store.commit("setServicoUnidade",a),this.$router.push({name:"cadastrodeunidade"})},Unidade(a){this.$store.commit("setServicoUnidade",a),this.$router.push({name:"servicodeunidade"})}},async created(){await this.dataRetorno(),this.loading=!1,this.buscaLoading=!0},watch:{limit(){this.limpaPage(),this.pagev()},busca(a){this.limpaPage(),this.page=this.pages.filter((i=>i.unidade.match(a.toUpperCase())))}}},E=e(89);const F=(0,E.Z)(K,[["render",H],["__scopeId","data-v-8ed1fa6e"]]);var G=F},6836:function(a,i,e){a.exports=e.p+"img/escrever.2675efea.svg"},2766:function(a,i,e){a.exports=e.p+"img/lista-de-tarefas.c2b33095.svg"},1295:function(a,i,e){a.exports=e.p+"img/pesquisa.1623ba07.svg"},4113:function(a,i,e){a.exports=e.p+"img/registro.30fb4d97.svg"},8236:function(a,i,e){a.exports=e.p+"img/delete.a5acf64f.png"}}]);
//# sourceMappingURL=491.f1837408.js.map