"use strict";(self["webpackChunknticpd"]=self["webpackChunknticpd"]||[]).push([[811],{811:function(a,e,i){i.r(e),i.d(e,{default:function(){return J}});var o=i(3396),t=i(7139),s=i(9242),n=i(8627);const l=a=>((0,o.dD)("data-v-53cf31a2"),a=a(),(0,o.Cn)(),a),d={class:"folha"},r=l((()=>(0,o._)("h1",{class:"text-center"}," Cadastro de serviços de equipamento ",-1))),c={class:"grid-form"},p={class:"form-contact-servico-equipamento"},u={class:"form-group-servico-equipamento"},v=l((()=>(0,o._)("label",{class:"label-form",for:"telefone"},"Telefone",-1))),m={class:"form-group-servico-equipamento"},h=l((()=>(0,o._)("label",{class:"label-form",for:"unidade"},"Unidade",-1))),f={class:"form-group-servico-equipamento"},b=l((()=>(0,o._)("label",{class:"label-form",for:"responsavel"},"Responsável",-1))),g={class:"form-group-servico-equipamento"},_=l((()=>(0,o._)("label",{class:"label-form",for:"tombo"},"Tombo",-1))),S={class:"form-group-servico-equipamento"},q=l((()=>(0,o._)("label",{class:"label-form",for:"tipo"},"Tipo de serviço",-1))),E=l((()=>(0,o._)("option",{value:""},null,-1))),D=l((()=>(0,o._)("option",{value:"Formatação"},"Formatação",-1))),k=l((()=>(0,o._)("option",{value:"Ponto De Rede"},"Ponto de Rede",-1))),w=l((()=>(0,o._)("option",{value:"Reparos\\Configuração"},"Reparos/ Configuração",-1))),y=[E,D,k,w],C={class:"form-group-servico-equipamento"},$=l((()=>(0,o._)("label",{class:"label-form",for:"backup"},"Backup",-1))),V=l((()=>(0,o._)("option",{value:""},null,-1))),U=l((()=>(0,o._)("option",{value:"sim"},"sim",-1))),x=l((()=>(0,o._)("option",{value:"não"},"não",-1))),Y=[V,U,x],z={class:"form-group-servico-equipamento"},I=l((()=>(0,o._)("label",{class:"label-form",for:"data-inicial"},"data de entrada",-1))),Z={class:"form-group-servico-equipamento"},M=l((()=>(0,o._)("label",{class:"label-form",for:"data-final"},"data de saida",-1))),F={class:"form-group-servico-equipamento"},R=l((()=>(0,o._)("label",{class:"label-form",for:"solucao"},"Solução(opcional)",-1))),L=l((()=>(0,o._)("div",{class:"form-espaco"},null,-1))),T={class:"form-group-servico-equipamento"},j=l((()=>(0,o._)("label",{class:"label-form",for:"observacao"},"Observação",-1))),H={key:0,class:"button-img",src:n};function P(a,e,i,n,l,E){const D=(0,o.up)("loadingVue"),k=(0,o.up)("mensagens"),w=(0,o.Q2)("maska");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",d,[r,(0,o._)("div",c,[(0,o._)("fieldset",p,[(0,o._)("div",u,[v,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form-servico-equipamento  ${a.invalida[0]}`),id:"telefone",name:"telefone",type:"tel",placeholder:"(77) 3333-3333","data-maska":"(##) #####-####","onUpdate:modelValue":e[0]||(e[0]=e=>a.telefone=e)},null,2),[[w],[s.nr,a.telefone]])]),(0,o._)("div",m,[h,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form-servico-equipamento  ${a.invalida[1]}`),id:"unidade",name:"unidade",type:"text",placeholder:"nome da unidade","onUpdate:modelValue":e[1]||(e[1]=e=>a.unidade=e)},null,2),[[s.nr,a.unidade]])]),(0,o._)("div",f,[b,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form-servico-equipamento  ${a.invalida[2]}`),id:"responsavel",name:"responsavel",type:"text",placeholder:"nome do Responsável","onUpdate:modelValue":e[2]||(e[2]=e=>a.responsavel=e)},null,2),[[s.nr,a.responsavel]])]),(0,o._)("div",g,[_,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form-servico-equipamento  ${a.invalida[3]}`),id:"tombo",name:"tombo",type:"text",placeholder:"13545357","onUpdate:modelValue":e[3]||(e[3]=e=>a.tombo=e)},null,2),[[s.nr,a.tombo]])]),(0,o._)("div",S,[q,(0,o.wy)((0,o._)("select",{class:(0,t.C_)(`input-form-servico-equipamento  ${a.invalida[4]}`),name:"tipo",id:"tipo","onUpdate:modelValue":e[4]||(e[4]=e=>a.tipoDeServico=e)},y,2),[[s.bM,a.tipoDeServico]])]),(0,o._)("div",C,[$,(0,o.wy)((0,o._)("select",{class:(0,t.C_)(`input-form-servico-equipamento  ${a.invalida[5]}`),name:"backup",id:"backup","onUpdate:modelValue":e[5]||(e[5]=e=>a.backup=e)},Y,2),[[s.bM,a.backup]])]),(0,o._)("div",z,[I,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form-servico-equipamento  ${a.invalida[6]}`),id:"data-inicial",name:"dataInicial",type:"date","onUpdate:modelValue":e[6]||(e[6]=e=>a.dataDeEntrada=e)},null,2),[[s.nr,a.dataDeEntrada]])]),(0,o._)("div",Z,[M,(0,o.wy)((0,o._)("input",{class:(0,t.C_)(`input-form-servico-equipamento  ${a.invalida[7]}`),id:"data-final",name:"dataFinal",type:"date","onUpdate:modelValue":e[7]||(e[7]=e=>a.dataDeSaida=e)},null,2),[[s.nr,a.dataDeSaida]])]),(0,o._)("div",F,[R,(0,o.wy)((0,o._)("input",{class:"input-form-servico-equipamento",id:"solucao",name:"solucao",type:"text",placeholder:"solução","onUpdate:modelValue":e[8]||(e[8]=e=>a.solucao=e)},null,512),[[s.nr,a.solucao]])]),L,(0,o._)("div",T,[j,(0,o.wy)((0,o._)("textarea",{class:"input-form-servico-equipamento",id:"observacao",name:"observacao",cols:"30",rows:"10","onUpdate:modelValue":e[9]||(e[9]=e=>a.observacao=e)}," ",512),[[s.nr,a.observacao]])]),(0,o._)("button",{class:"button",onClick:e[10]||(e[10]=(...a)=>E.cadastro&&E.cadastro(...a))},[a.cadastroLoading?((0,o.wg)(),(0,o.iD)("img",H)):(0,o.kq)("",!0),a.loading?((0,o.wg)(),(0,o.j4)(D,{key:1})):(0,o.kq)("",!0)])])])]),(0,o.Wm)(k,{msg:a.msg,tipo:a.tipo,possicao:a.possicao},null,8,["msg","tipo","possicao"])],64)}var B=i(65),K=i(6146),O=i(7971),Q=i(6814),W={name:"ServiçoEquipamentoView",data:()=>({invalida:["","","","","","","",""],cadastroLoading:!0,loading:!1,telefone:"",unidade:"",responsavel:"",tombo:"",tipoDeServico:"",backup:"",dataDeEntrada:"",dataDeSaida:"",solucao:"",observacao:"",msg:"",tipo:"",possicao:"leftMensagen"}),components:{loadingVue:O.Z,mensagens:Q.Z},computed:{...(0,B.rn)({telefoneState:a=>a.servicoEquipamento.telefone?a.servicoEquipamento.telefone:a.editServicoEquipamento.telefone,unidadeState:a=>a.servicoEquipamento.unidade?a.servicoEquipamento.unidade:a.editServicoEquipamento.unidade,responsavelState:a=>a.servicoEquipamento.responsavel?a.servicoEquipamento.responsavel:a.editServicoEquipamento.responsavel,tomboState:a=>a.servicoEquipamento.tombo?a.servicoEquipamento.tombo:a.editServicoEquipamento.tombo,id:a=>a.servicoEquipamento._id,idServicoState:a=>a.editServicoEquipamento._id,tipoDeServicoState:a=>a.editServicoEquipamento.tipo?a.editServicoEquipamento.tipo:"",backupState:a=>a.editServicoEquipamento.backup?a.editServicoEquipamento.backup:"",dataDeEntradaState:a=>a.editServicoEquipamento.dataInicial?a.editServicoEquipamento.dataInicial:"",dataDeSaidaState:a=>a.editServicoEquipamento.dataFinal?a.editServicoEquipamento.dataFinal:"",solucaoState:a=>a.editServicoEquipamento.solucao?a.editServicoEquipamento.solucao:"",observacaoState:a=>a.editServicoEquipamento.observacao?a.editServicoEquipamento.observacao:""})},created(){this.telefone=this.telefoneState,this.unidade=this.unidadeState,this.responsavel=this.responsavelState,this.tombo=this.tomboState,this.tipoDeServico=this.tipoDeServicoState,this.backup=this.backupState,this.dataDeEntrada=this.dataDeEntradaState,this.dataDeSaida=this.dataDeSaidaState,this.solucao=this.solucaoState,this.observacao=this.observacaoState,this.idEditServico=this.idServicoState},methods:{validacao(){let a=[];return 0===this.telefone.length?(this.invalida[0]="invalido",a.push("telefone vazio")):this.invalida[0]="",0===this.unidade.length?(this.invalida[1]="invalido",a.push("unidade vazio")):this.invalida[1]="",0===this.responsavel.length?(this.invalida[2]="invalido",a.push("responsavel vazio")):this.invalida[2]="",0===this.tombo.length?(this.invalida[3]="invalido",a.push("tombo vazio")):this.invalida[3]="",0===this.tipoDeServico.length?(this.invalida[4]="invalido",a.push("tipo de serviço vazio")):this.invalida[4]="",0===this.backup.length?(this.invalida[5]="invalido",a.push("tipo de backup vazio")):this.invalida[5]="",0===this.dataDeEntrada.length?(this.invalida[6]="invalido",a.push("data de entrada vazio")):this.invalida[6]="",0===this.dataDeSaida.length?(this.invalida[7]="invalido",a.push("data de saida vazio")):this.invalida[7]="",a},async cadastro(){try{let a=this.validacao();a.length>0&&(this.msg=a,this.tipo="alert-danger");const e={telefone:this.telefone,unidade:this.unidade,responsavel:this.responsavel,tombo:this.tombo,tipo:this.tipoDeServico,backup:this.backup,dataInicial:this.$moment(this.dataDeEntrada).format("DD/MM/YYYY"),dataFinal:this.$moment(this.dataDeSaida).format("DD/MM/YYYY"),solucao:this.solucao,observacao:this.observacao};if(0===a.length)if(this.cadastroLoading=!1,this.loading=!0,"undefined"!==typeof this.idEditServico){const a=await K.Z.put(`/registro/edit/servico/${this.idEditServico}`,e);a.data._id?(this.$store.commit("setEditServicoEquip",{}),this.$router.push({name:"listagemdeequipamento",params:{id:a.data._id}})):(this.loading=!1,this.cadastroLoading=!0,this.msg=a.data,this.tipo="alert-danger")}else{const a=await K.Z.post("/registro/servico",e);a.data._id?(this.$store.commit("setServicoEquipamento",{}),this.$router.push({name:"listagemdeequipamento",params:{id:a.data._id}})):(this.loading=!1,this.cadastroLoading=!0,this.msg=a.data,this.tipo="alert-danger")}}catch(a){console.log(a)}}}},A=i(89);const G=(0,A.Z)(W,[["render",P],["__scopeId","data-v-53cf31a2"]]);var J=G},7971:function(a,e,i){i.d(e,{Z:function(){return h}});var o=i(3396);const t=a=>((0,o.dD)("data-v-28695f58"),a=a(),(0,o.Cn)(),a),s={class:"lds-ring"},n=t((()=>(0,o._)("div",null,null,-1))),l=t((()=>(0,o._)("div",null,null,-1))),d=t((()=>(0,o._)("div",null,null,-1))),r=t((()=>(0,o._)("div",null,null,-1))),c=[n,l,d,r];function p(a,e,i,t,n,l){return(0,o.wg)(),(0,o.iD)("div",s,c)}var u={name:"loadingComponents"},v=i(89);const m=(0,v.Z)(u,[["render",p],["__scopeId","data-v-28695f58"]]);var h=m},6814:function(a,e,i){i.d(e,{Z:function(){return p}});var o=i(3396),t=i(7139);const s=a=>((0,o.dD)("data-v-66a17eed"),a=a(),(0,o.Cn)(),a),n=s((()=>(0,o._)("br",null,null,-1)));function l(a,e,i,s,l,d){return a.exbir?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,t.C_)(`${i.possicao}`)},[(0,o._)("div",{class:(0,t.C_)(`alert ${i.tipo}`),role:"alert"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.msg,(a=>((0,o.wg)(),(0,o.iD)("span",{key:a},[(0,o.Uk)((0,t.zw)(a),1),n])))),128)),(0,o._)("div",null,[(0,o._)("div",{class:"tempo",style:(0,t.j5)(`width: ${a.tempo}%;  background-color: ${a.cor};`)},null,4)])],2)],2)):(0,o.kq)("",!0)}var d={name:"mensagenVue",data:()=>({tempo:100,exbir:!1,cor:"red"}),props:["msg","tipo","possicao"],methods:{count(){let a=setInterval((()=>{this.tempo=this.tempo-20,0===this.tempo&&(this.exbir=!1,clearInterval(a),this.tempo=80),console.log(this.tempo)}),1e3)}},watch:{msg(){this.exbir=!0,"alert-danger"===this.tipo?this.cor="red":"alert-success"===this.tipo&&(this.cor="green"),this.count()}}},r=i(89);const c=(0,r.Z)(d,[["render",l],["__scopeId","data-v-66a17eed"]]);var p=c},8627:function(a,e,i){a.exports=i.p+"img/salvar.c9cd868a.svg"}}]);
//# sourceMappingURL=811.2013f1e0.js.map