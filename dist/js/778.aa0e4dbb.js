"use strict";(self["webpackChunknticpd"]=self["webpackChunknticpd"]||[]).push([[778],{5200:function(t,a){a["Z"]={methods:{pagev(){let t=0;for(t;t<this.limit;t++)this.page.push(this.pages[t])},proxima(){if(0===this.armazenaIndexProximo&&(this.armazenaIndexProximo=this.page.length),this.armazenaIndexProximo<=this.pages.length){this.limpaPage();for(let t=0;t<this.limit;t++)this.page.push(this.pages[this.armazenaIndexProximo]),this.armazenaIndexProximo++}},anterior(){if(this.armazenaIndexAnterior=this.armazenaIndexProximo,this.armazenaIndexAnterior>0){this.limpaPage();let t=this.limit+this.limit;this.armazenaIndexAnterior=this.armazenaIndexAnterior-t;for(let a=0;a<this.limit;a++)this.page.push(this.pages[this.armazenaIndexAnterior]),this.armazenaIndexAnterior++;this.armazenaIndexProximo=this.armazenaIndexAnterior}},limpaPage(){this.page=[]},disponivel(){0===this.armazenaIndexAnterior?(console.log("está desabilitado"),this.anteriorDisponivel=!1):(console.log("está habilitado"),this.anteriorDisponivel=!0)}}}},5778:function(t,a,i){i.r(a),i.d(a,{default:function(){return L}});var e=i(3396),s=i(7139),o=i(1295),n=i(8236),r=i(6836),l=i(4999);const c=t=>((0,e.dD)("data-v-365ecb8a"),t=t(),(0,e.Cn)(),t),u={class:"text-center"},d=(0,e.uE)('<div data-v-365ecb8a><form class="form-busca" data-v-365ecb8a><input type="text" name="busca" id="busca" placeholder="busca pelo tombo" data-v-365ecb8a><button class="button-busca" type="submit" data-v-365ecb8a><img class="img-button" src="'+o+'" data-v-365ecb8a></button></form></div><div class="traco-busca" data-v-365ecb8a></div>',2),m={key:0,class:"ajust"},p={class:"resultado-flex"},h={key:1,class:"ajust"},g={class:"resultado"},v={class:"box2"},b={class:"tabela"},x={class:"box"},f=["onClick"],_=c((()=>(0,e._)("img",{class:"button-img",src:n},null,-1))),z=[_],I={class:"button-verde"},w=["onClick"],k=["onClick"],q=c((()=>(0,e._)("img",{class:"button-img",src:l},null,-1))),C=[q],P={colspan:"3"},D={class:"box"};function y(t,a,i,o,n,l){const c=(0,e.up)("loading-busca-vue");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("h1",u," Tombo: "+(0,s.zw)(t.equipamentos.tombo),1),d,t.loading?((0,e.wg)(),(0,e.iD)("div",m,[(0,e._)("div",p,[(0,e.Wm)(c)])])):(0,e.kq)("",!0),t.buscaLoading?((0,e.wg)(),(0,e.iD)("div",h,[(0,e._)("div",g,[(0,e._)("div",v,[(0,e._)("table",b,[(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.servicos,(t=>((0,e.wg)(),(0,e.iD)("tr",{key:t._id},[(0,e._)("td",null,[(0,e._)("p",null,(0,s.zw)(t.tombo),1)]),(0,e._)("td",null,[(0,e._)("p",null,(0,s.zw)(t.dataInicial),1)]),(0,e._)("td",null,[(0,e._)("p",null,(0,s.zw)(t.dataFinal),1)]),(0,e._)("td",null,[(0,e._)("div",x,[(0,e._)("button",{class:"button-azul",onClick:a=>l.deleteBanco(t._id)},z,8,f),(0,e._)("button",I,[(0,e._)("img",{class:"button-img",src:r,onClick:a=>l.editServico(t)},null,8,w)]),(0,e._)("button",{class:"button-azul",onClick:a=>l.imprimir(t)},C,8,k)])])])))),128))]),(0,e._)("tfoot",null,[(0,e._)("tr",null,[(0,e._)("td",P,[(0,e._)("div",D,[(0,e._)("button",{class:"adicionar",onClick:a[0]||(a[0]=t=>l.cadastroServico())}," +Nova ordem")])])])])])])])])):(0,e.kq)("",!0)],64)}var A=i(6146),$=i(5200),Z=i(9931),E={name:"ListagemEquipamentoView",data:()=>({equipamentos:"",servicos:"",pages:[],limit:5,armazenaIndexProximo:0,armazenaIndexAnterior:0,anteriorDisponivel:!1,busca:"",loading:!0,buscaLoading:!1}),mixins:[$.Z],components:{loadingBuscaVue:Z.Z},methods:{async dataRetorno(){await A.Z.get(`listagemcomputador/${this.$route.params.id}`).then((({data:t})=>{this.equipamentos=t.equipamento,this.servicos=t.servicos})),await this.page()},page(){let t=0;for(t;t<this.limit;t++)this.pages.push(this.servicos[t])},async deleteBanco(t){await A.Z["delete"](`/listagemcomputador/delete/${t}`),await this.dataRetorno()},cadastroServico(){this.$store.commit("setServicoEquipamento",this.equipamentos),this.$router.push({name:"servicodeequipamento"})},editServico(t){this.$store.commit("setEditServicoEquip",t),this.$router.push({name:"servicodeequipamento"})},imprimir(t){this.$store.commit("setImprimirEquipamento",t),this.$router.push({name:"impressaodeequipamento"})}},async created(){await this.dataRetorno(),this.loading=!1,this.buscaLoading=!0},watch:{limit(){let t=0;for(t;t<this.limit;t++)this.pages.pop();this.page()},busca(t){let a=0;for(a;a<this.limit;a++)this.pages.pop();this.pages=this.servicos.filter((a=>a.tombo.match(t.toUpperCase())))}}},S=i(89);const B=(0,S.Z)(E,[["render",y],["__scopeId","data-v-365ecb8a"]]);var L=B},9931:function(t,a,i){i.d(a,{Z:function(){return p}});var e=i(3396);const s={class:"lds-facebook"},o=(0,e._)("div",null,null,-1),n=(0,e._)("div",null,null,-1),r=(0,e._)("div",null,null,-1),l=[o,n,r];function c(t,a,i,o,n,r){return(0,e.wg)(),(0,e.iD)("div",s,l)}var u={name:"loadingBusca"},d=i(89);const m=(0,d.Z)(u,[["render",c]]);var p=m},6836:function(t,a,i){t.exports=i.p+"img/escrever.2675efea.svg"},4999:function(t,a,i){t.exports=i.p+"img/impressora.bbe28e4f.svg"},1295:function(t,a,i){t.exports=i.p+"img/pesquisa.1623ba07.svg"},8236:function(t,a,i){t.exports=i.p+"img/delete.a5acf64f.png"}}]);
//# sourceMappingURL=778.aa0e4dbb.js.map