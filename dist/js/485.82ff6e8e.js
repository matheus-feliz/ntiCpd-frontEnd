"use strict";(self["webpackChunknticpd"]=self["webpackChunknticpd"]||[]).push([[485],{7971:function(e,a,t){t.d(a,{Z:function(){return g}});var i=t(3396);const n=e=>((0,i.dD)("data-v-28695f58"),e=e(),(0,i.Cn)(),e),s={class:"lds-ring"},d=n((()=>(0,i._)("div",null,null,-1))),o=n((()=>(0,i._)("div",null,null,-1))),l=n((()=>(0,i._)("div",null,null,-1))),r=n((()=>(0,i._)("div",null,null,-1))),c=[d,o,l,r];function u(e,a,t,n,d,o){return(0,i.wg)(),(0,i.iD)("div",s,c)}var p={name:"loadingComponents"},v=t(89);const h=(0,v.Z)(p,[["render",u],["__scopeId","data-v-28695f58"]]);var g=h},6814:function(e,a,t){t.d(a,{Z:function(){return u}});var i=t(3396),n=t(7139);const s=e=>((0,i.dD)("data-v-66a17eed"),e=e(),(0,i.Cn)(),e),d=s((()=>(0,i._)("br",null,null,-1)));function o(e,a,t,s,o,l){return e.exbir?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,n.C_)(`${t.possicao}`)},[(0,i._)("div",{class:(0,n.C_)(`alert ${t.tipo}`),role:"alert"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.msg,(e=>((0,i.wg)(),(0,i.iD)("span",{key:e},[(0,i.Uk)((0,n.zw)(e),1),d])))),128)),(0,i._)("div",null,[(0,i._)("div",{class:"tempo",style:(0,n.j5)(`width: ${e.tempo}%;  background-color: ${e.cor};`)},null,4)])],2)],2)):(0,i.kq)("",!0)}var l={name:"mensagenVue",data:()=>({tempo:100,exbir:!1,cor:"red"}),props:["msg","tipo","possicao"],methods:{count(){let e=setInterval((()=>{this.tempo=this.tempo-20,0===this.tempo&&(this.exbir=!1,clearInterval(e),this.tempo=80),console.log(this.tempo)}),1e3)}},watch:{msg(){this.exbir=!0,"alert-danger"===this.tipo?this.cor="red":"alert-success"===this.tipo&&(this.cor="green"),this.count()}}},r=t(89);const c=(0,r.Z)(l,[["render",o],["__scopeId","data-v-66a17eed"]]);var u=c},5485:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});var i=t(3396),n=t(7139),s=t(9242),d=t(8627);const o=e=>((0,i.dD)("data-v-c9e19d1e"),e=e(),(0,i.Cn)(),e),l=o((()=>(0,i._)("h1",{class:"text-center-nti"}," Cadastro de unidade ",-1))),r={class:"grid-form"},c={class:"form-contact"},u={class:"form-group"},p=o((()=>(0,i._)("label",{class:"label-form",for:"telefone"},"Telefone",-1))),v={class:"form-group"},h=o((()=>(0,i._)("label",{class:"label-form",for:"unidade"},"Unidade",-1))),g={class:"form-group"},m=o((()=>(0,i._)("label",{class:"label-form",for:"responsavel"},"Responsável",-1))),f={key:0,class:"button-img",src:d};function _(e,a,t,d,o,_){const w=(0,i.up)("loadingVue"),b=(0,i.up)("mensagens"),k=(0,i.Q2)("maska");return(0,i.wg)(),(0,i.iD)(i.HY,null,[l,(0,i._)("div",r,[(0,i._)("fieldset",c,[(0,i._)("div",u,[p,(0,i.wy)((0,i._)("input",{class:(0,n.C_)(`input-form-unidade ${e.invalida[0]}`),id:"telefone",name:"telefone",type:"tel",placeholder:"(77) 93333-3333","data-maska":"(##) #####-####","onUpdate:modelValue":a[0]||(a[0]=a=>e.telefone=a)},null,2),[[k],[s.nr,e.telefone]])]),(0,i._)("div",v,[h,(0,i.wy)((0,i._)("input",{class:(0,n.C_)(`input-form-unidade ${e.invalida[1]}`),id:"unidade",name:"unidade",type:"text",placeholder:"nome da unidade","onUpdate:modelValue":a[1]||(a[1]=a=>e.unidade=a)},null,2),[[s.nr,e.unidade]])]),(0,i._)("div",g,[m,(0,i.wy)((0,i._)("input",{class:(0,n.C_)(`input-form-unidade ${e.invalida[2]}`),id:"responsavel",name:"responsavel",type:"text",placeholder:"nome do Responsável","onUpdate:modelValue":a[2]||(a[2]=a=>e.responsavel=a)},null,2),[[s.nr,e.responsavel]])]),(0,i._)("button",{class:"button-cadastro-unidade",onClick:a[3]||(a[3]=(...e)=>_.cadastro&&_.cadastro(...e))},[e.cadastroLoading?((0,i.wg)(),(0,i.iD)("img",f)):(0,i.kq)("",!0),e.loading?((0,i.wg)(),(0,i.j4)(w,{key:1})):(0,i.kq)("",!0)])]),(0,i.Wm)(b,{msg:e.msg,tipo:e.tipo,possicao:e.possicao},null,8,["msg","tipo","possicao"])])],64)}var w=t(6146),b=t(65),k=t(7971),y=t(6814),C={name:"CadastroDeUnidadeView",data:()=>({invalida:["","",""],loading:!1,cadastroLoading:!0,telefone:"",unidade:"",responsavel:"",idEdit:"",msg:"",tipo:"",possicao:"cimaMensagen"}),components:{loadingVue:k.Z,mensagens:y.Z},computed:{...(0,b.rn)({telefoneState:e=>e.servicoUnidade.telefone?e.servicoUnidade.telefone:"",unidadeState:e=>e.servicoUnidade.unidade?e.servicoUnidade.unidade:"",responsavelState:e=>e.servicoUnidade.responsavel?e.servicoUnidade.responsavel:"",idState:e=>e.servicoUnidade._id})},created(){this.telefone=this.telefoneState,this.unidade=this.unidadeState,this.responsavel=this.responsavelState,this.idEdit=this.idState},methods:{validacao(){let e=[];return 0===this.telefone.length?(this.invalida[0]="invalido",e.push("telefone vazio")):this.invalida[0]="",0===this.unidade.length?(this.invalida[1]="invalido",e.push("unidade vazio")):this.invalida[1]="",0===this.responsavel.length?(this.invalida[2]="invalido",e.push("responsavel vazio")):this.invalida[2]="",e},async cadastro(){try{let e=this.validacao();console.log(e),e.length>0&&(this.msg=e,this.tipo="alert-danger");let a={telefone:this.telefone,unidade:this.unidade,responsavel:this.responsavel};if(console.log("undefined"===typeof this.idEdit,"undefined"),0===e.length)if(this.cadastroLoading=!1,this.loading=!0,"undefined"!==typeof this.idEdit){console.log("tipo edite ");const e=await w.Z.put(`/registrounidade/edit/${this.idEdit}`,a);e.data._id?(console.log(e.data._id),this.$store.commit("setServicoUnidade",{}),this.$router.push({name:"listagemdeunidade",params:{id:e.data._id}})):(this.loading=!1,this.cadastroLoading=!0,this.msg=e.data,this.tipo="alert-danger")}else{console.log("tipo de cadastro");const e=await w.Z.post("/registrounidade",a);e.data._id?(console.log(e.data),this.$router.push({name:"listagemdeunidade",params:{id:e.data._id}})):(this.loading=!1,this.cadastroLoading=!0,this.msg=e.data,this.tipo="alert-danger")}}catch(e){console.log(e)}}}},U=t(89);const $=(0,U.Z)(C,[["render",_],["__scopeId","data-v-c9e19d1e"]]);var D=$},8627:function(e,a,t){e.exports=t.p+"img/salvar.c9cd868a.svg"}}]);
//# sourceMappingURL=485.82ff6e8e.js.map