"use strict";(self["webpackChunknticpd"]=self["webpackChunknticpd"]||[]).push([[710],{2007:function(a,s,i){i.r(s),i.d(s,{default:function(){return E}});var o=i(3396),t=i(2982);const n=a=>((0,o.dD)("data-v-6e58d943"),a=a(),(0,o.Cn)(),a),e={class:"sencao"},d=n((()=>(0,o._)("div",null,[(0,o._)("img",{class:"img-login",title:"logo do nti",src:t})],-1)));function l(a,s,i,t,n,l){const r=(0,o.up)("login",!0);return(0,o.wg)(),(0,o.iD)("section",e,[d,(0,o.Wm)(r)])}var r=i(7139),h=i(9242);const m={class:"login"},c=(0,o.Uk)("esqueceu senha?"),g={key:0},p=(0,o._)("div",{class:"traco-login"},null,-1);function u(a,s,i,t,n,e){const d=(0,o.up)("cadastro"),l=(0,o.up)("mensagens"),u=(0,o.up)("router-link"),C=(0,o.up)("loading-vue");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(d,{exibir:a.exibir,onExbirCadastro:e.exibirCadastro,onMsgs:s[0]||(s[0]=a=>e.msgs(a))},null,8,["exibir","onExbirCadastro"]),(0,o.Wm)(l,{msg:a.msg,tipo:a.tipo,possicao:a.possicao},null,8,["msg","tipo","possicao"]),(0,o._)("div",m,[(0,o.wy)((0,o._)("input",{type:"email",class:(0,r.C_)(`form-control margin ${a.invalida[0]}`),placeholder:"Email",id:"email",name:"email","onUpdate:modelValue":s[1]||(s[1]=s=>a.emailLogin=s)},null,2),[[h.nr,a.emailLogin]]),(0,o.wy)((0,o._)("input",{type:"password",class:(0,r.C_)(`form-control ${a.invalida[1]}`),id:"password",placeholder:"senha",name:"password","onUpdate:modelValue":s[2]||(s[2]=s=>a.password=s)},null,2),[[h.nr,a.password]]),(0,o.Wm)(u,{class:"senha",to:"/esqueceusenha"},{default:(0,o.w5)((()=>[c])),_:1}),(0,o._)("button",{onClick:s[3]||(s[3]=(...a)=>e.login&&e.login(...a)),class:"buttonLogin-1"},[a.loginLoading?((0,o.wg)(),(0,o.iD)("span",g,"Login")):(0,o.kq)("",!0),a.loading?((0,o.wg)(),(0,o.j4)(C,{key:1})):(0,o.kq)("",!0)]),p,(0,o._)("button",{class:"buttonCadastro",onClick:s[4]||(s[4]=(...a)=>e.exibirCadastro&&e.exibirCadastro(...a))},"Cadastro")])],64)}var C=i(6146),v=i(7499),w=i.n(v);const f={key:0,class:"fundo-cadastro"},b={class:"cadastro"},_={key:0};function y(a,s,i,t,n,e){const d=(0,o.up)("loadingVue");return i.exibir?((0,o.wg)(),(0,o.iD)("div",f,[(0,o._)("div",b,[(0,o._)("p",{class:"close",onClick:s[0]||(s[0]=(...a)=>e.exibirC&&e.exibirC(...a))},"×"),(0,o.wy)((0,o._)("input",{type:"text",class:(0,r.C_)(`form-control ${a.invalidaCadastro[0]}`),placeholder:"nome de usuário",id:"nome",name:"nome","onUpdate:modelValue":s[1]||(s[1]=s=>a.name=s)},null,2),[[h.nr,a.name]]),(0,o.wy)((0,o._)("input",{type:"email",class:(0,r.C_)(`form-control ${a.invalidaCadastro[1]}`),placeholder:"Email",id:"email",name:"email","onUpdate:modelValue":s[2]||(s[2]=s=>a.emailCadastro=s)},null,2),[[h.nr,a.emailCadastro]]),(0,o.wy)((0,o._)("input",{type:"password",class:(0,r.C_)(`form-control ${a.invalidaCadastro[2]}`),id:"password",placeholder:"senha",name:"password","onUpdate:modelValue":s[3]||(s[3]=s=>a.passwordCadastro=s)},null,2),[[h.nr,a.passwordCadastro]]),(0,o.wy)((0,o._)("input",{type:"password",class:(0,r.C_)(`form-control ${a.invalidaCadastro[3]}`),id:"password2",placeholder:"confirma senha",name:"password2","onUpdate:modelValue":s[4]||(s[4]=s=>a.confirmPassword=s)},null,2),[[h.nr,a.confirmPassword]]),(0,o._)("button",{type:"submit",onClick:s[5]||(s[5]=(...a)=>e.cadastro&&e.cadastro(...a)),class:"buttonCadastro"},[a.cadastroLoading?((0,o.wg)(),(0,o.iD)("span",_,"Cadastro")):(0,o.kq)("",!0),a.loading?((0,o.wg)(),(0,o.j4)(d,{key:1})):(0,o.kq)("",!0)])])])):(0,o.kq)("",!0)}var k=i(7971),L={name:"cadastroComponent",data:()=>({emailCadastro:"",passwordCadastro:"",confirmPassword:"",name:"",invalidaCadastro:["","","",""],loading:!1,cadastroLoading:!0,msg:"",tipo:""}),components:{loadingVue:k.Z},props:{exibir:{type:Boolean}},methods:{exibirC(){this.$emit("exbirCadastro")},msgs(a,s){this.msg=a,this.tipo=s,this.$emit("msgs",{msg:this.msg,tipo:this.tipo})},validacao(){let a=[];return this.name.length>0&&(this.invalidaCadastro[0]=""),this.passwordCadastro.length>0&&(this.invalidaCadastro[2]=""),this.confirmPassword.length>0&&(this.invalidaCadastro[3]=""),0===this.emailCadastro.length&&(a.push("email está vazio"),this.invalidaCadastro[1]="invalido"),this.emailCadastro.length>0&&(w().isEmail(this.emailCadastro)?this.invalidaCadastro[1]="":(a.push("email invalido"),this.invalidaCadastro[1]="invalido")),0===this.passwordCadastro.length&&(a.push("senha vazia"),this.invalidaCadastro[2]="invalido"),0===this.confirmPassword.length&&(a.push("confirma senha vazia"),this.invalidaCadastro[3]="invalido"),this.passwordCadastro.length>0&&this.confirmPassword.length>0&&this.passwordCadastro!==this.confirmPassword&&(a.push("senha não estão idênticas"),this.invalidaCadastro[3]="invalido",this.invalidaCadastro[2]="invalido"),0===this.name.length&&(a.push("nome vazio"),this.invalidaCadastro[0]="invalido"),a},async cadastro(){try{let a=this.validacao();if(a.length>0&&this.msgs(a,"alert-danger"),0===a.length){this.loading=!0,this.cadastroLoading=!1;const a=await C.Z.post("/cadastro",{nome:this.name,email:this.emailCadastro,password:this.passwordCadastro,password2:this.confirmPassword});a.data._id?(this.loading=!1,this.cadastroLoading=!0,this.name="",this.emailCadastro="",this.passwordCadastro="",this.confirmPassword="",this.msgs(["criado com sucesso"],"alert-success")):(this.msg=a.data,this.tipo="alert-danger")}}catch(a){console.log(a)}}}},x=i(89);const V=(0,x.Z)(L,[["render",y]]);var $=V,P=i(6814),U={name:"loginComponent",data:()=>({exibir:!1,emailLogin:"",password:"",loading:!1,loginLoading:!0,invalida:["",""],user:{},msg:"",tipo:"",possicao:"cimaMensagen"}),components:{Cadastro:$,loadingVue:k.Z,mensagens:P.Z},methods:{exibirCadastro(){this.exibir=!this.exibir},msgs(a){this.msg=a.msg,this.tipo=a.tipo},validacao(){let a=[];return 0===this.emailLogin.length&&(a.push("email está vazio"),this.invalida[0]="invalido"),this.emailLogin.length>0&&(w().isEmail(this.emailLogin)?this.invalida[0]="":(a.push("email invalido"),this.invalida[0]="invalido")),0===this.password.length&&(a.push("senha vazia"),this.invalida[1]="invalido"),this.password.length>0&&(this.invalida[1]=""),a},async login(){try{this.loginLoading=!1,this.loading=!0;let a=this.validacao();if(a.length>0&&(this.loading=!1,this.loginLoading=!0,this.msg=a,this.tipo="alert-danger"),0===a.length){const s=await C.Z.post("/login",{email:this.emailLogin,password:this.password});s.data.email===this.emailLogin?(this.user=s.data,this.$store.commit("setUser",this.user),this.email="",this.password="",this.msg=a,this.tipo="alert-success",this.$router.push("/home")):(this.loading=!1,this.loginLoading=!0,this.msg=s.data,this.tipo="alert-danger")}}catch(a){console.log(a)}}}};const Z=(0,x.Z)(U,[["render",u]]);var q=Z,z={name:"loginView",data:()=>({}),components:{Login:q}};const D=(0,x.Z)(z,[["render",l],["__scopeId","data-v-6e58d943"]]);var E=D}}]);
//# sourceMappingURL=710.03b399b0.js.map